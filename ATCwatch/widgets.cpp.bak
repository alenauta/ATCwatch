
#include "widgets.h"
#include <lvgl.h>

void create_gauge(lv_obj_t *parent, lv_coord_t x, lv_coord_t y, lv_coord_t w)
{
    lv_obj_t *arc_bg, *arc_fg;
    lv_style_t arc_bg_st, arc_fg_st;

    lv_style_copy(&arc_bg_st, &lv_style_plain);
    arc_bg_st.line.width = 5;

    lv_style_copy(&arc_fg_st, &lv_style_plain);
    arc_fg_st.line.color = lv_color_hex(0x2db710);
    arc_fg_st.line.width = 5;

    arc_bg = lv_arc_create(parent, NULL);
    lv_obj_set_style(arc_bg, &arc_bg_st);
    lv_obj_set_pos(arc_bg, x, y);
    lv_obj_set_size(arc_bg, w, w);
    lv_arc_set_angles(arc_bg, 45, 315);

    arc_fg = lv_arc_create(parent, NULL);
    lv_obj_set_style(arc_fg, &arc_fg_st);
    lv_obj_set_pos(arc_fg, x, y);
    lv_obj_set_size(arc_fg, w, w);
    lv_arc_set_angles(arc_fg, 180, 315);
}